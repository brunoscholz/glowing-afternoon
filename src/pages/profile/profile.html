<ion-header>
  <ion-navbar>
    <button ion-button menuToggle left>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Profile</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="profile">
  <loading-modal></loading-modal>

  <div *ngIf="user">
    <div id="elastic-header" class="background-image">
      <img src="{{user.picture.cover}}">
    </div>
    <div class="profile-info">
      <ion-card>
          <ion-card-content>
            <img src="{{user.picture.large}}"/>
              <h2>{{user.name.first}} {{user.name.last}}</h2>
              <h3>{{user.login.username}}</h3>
          </ion-card-content>

          <ion-row no-padding>
            <ion-col>
              <button ion-button clear small color="danger" icon-left (click)="addReview()">
                <ion-icon name='star'></ion-icon>
                Seguir
              </button>
            </ion-col>
            <ion-col text-center>
              <button ion-button clear small color="danger" icon-left (click)="like($event)">
                <ion-icon name='navigate'></ion-icon>
                Mensagem
              </button>
            </ion-col>
            <ion-col text-right>
              <button ion-button clear small color="danger" icon-left (click)="share($event)">
                <ion-icon name='share-alt'></ion-icon>
                Sobre
              </button>
            </ion-col>
          </ion-row>
      </ion-card>
    </div>
  </div>

  <div class="content" *ngIf="user">
    <h4 class="content padding double-padding-x" style="text-align: center;">Moedas</h4>
    <ion-list>
      <ion-list-header>
        Saldo
      </ion-list-header>
      <ion-item>{{user.coins.balance}}</ion-item>
      <ion-list-header>
        Últimas Transações
      </ion-list-header>
      <ion-item class="balance-pos"><span class="value">20</span></ion-item>
      <ion-item class="balance-pos"><span class="value">5</span></ion-item>
      <ion-item class="balance-pos"><span class="value">10</span></ion-item>
      <ion-item class="balance-pos"><span class="value">10</span></ion-item>
      <ion-item class="balance-neg"><span class="value">1200</span></ion-item>
    </ion-list>
  </div>

  <div class="content">
    <h4 class="content padding double-padding-x" style="text-align: center;">Avaliações</h4>

    <ion-grid class="reviews">

      <ion-row>
        <ion-col width-50>
          <ion-card>
            <img src="assets/img/generic-product.png"/>
            <div class="card-title">Exceleeeent!</div>
            <div class="card-subtitle">5</div>
          </ion-card>
        </ion-col>
        <ion-col width-50>
          <ion-card>
            <img src="assets/img/generic-product.png"/>
            <div class="card-title">Bom atendimento</div>
            <div class="card-subtitle">4.3</div>
          </ion-card>
        </ion-col>
      </ion-row>

      <ion-row *ngFor="let i of rows" (click)="itemTapped($event, item)">
        <ion-col width-50 *ngFor="let item of reviews | slice:(i*3):(i+1)*3;">
          <ion-card>
            <img src="assets/img/generic-product.png"/>
            <div class="card-title">{{item.title}}</div>
            <div class="card-subtitle">{{item.rating}}</div>
          </ion-card>
        </ion-col>
      </ion-row>

    </ion-grid>
  </div>

</ion-content>
